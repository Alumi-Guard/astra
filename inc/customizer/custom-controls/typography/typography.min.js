!function(d){var u=wp.customize;AstTypography={init:function(){AstTypography._initFonts()},_initFonts:function(){d(".customize-control-ast-font-family select").each(AstTypography._initFont),d(".customize-control-ast-font-family select, .customize-control-ast-font-variant select").selectWoo(),d(".customize-control-ast-font-variant select").on("select2:unselecting",function(t){var e=d(this).data("customize-setting-link");(t.params.args.data.id||"")&&(d(this).find('option[value="'+t.params.args.data.id+'"]').removeAttr("selected"),null===d(this).val()&&u(e).set(""))})},_initFont:function(){var t=d(this),e=t.data("customize-setting-link"),n=t.data("connected-control"),i=t.data("connected-variant");void 0!==n&&(u(e).bind(AstTypography._fontSelectChange),AstTypography._setFontWeightOptions.apply(u(e),[!0])),void 0!==i&&(u(e).bind(AstTypography._fontSelectChange),AstTypography._setFontVarianttOptions.apply(u(e),[!0]))},_fontSelectChange:function(){AstTypography._setFontWeightOptions.apply(this,[!1]),AstTypography._setFontVarianttOptions.apply(this,[!1])},_cleanGoogleFonts:function(t){if(!t.includes(","))return t;var e=t.split(","),n=new RegExp("'","gi"),i=e[0].replace(n,"");return void 0!==AstFontFamilies.google[i]&&(t=i),t},_getWeightObject:function(t){var e=["400","600"];return"inherit"==t?e=["100","200","300","400","500","600","700","800","900"]:void 0!==AstFontFamilies.system[t]?e=AstFontFamilies.system[t].weights:void 0!==AstFontFamilies.google[t]?(e=AstFontFamilies.google[t][0],e=Object.keys(e).map(function(t){return e[t]})):void 0!==AstFontFamilies.custom[t.split(",")[0]]&&(e=AstFontFamilies.custom[t.split(",")[0]].weights),e},_setFontWeightOptions:function(t){var e=0,n=u.control(this.id).container.find("select"),i=this(),o="",a=n.data("connected-control"),s=(n.data("inherit"),u.control(a).container.find("select")),l=s.data("inherit"),r=t?s.val():"400",c=["400","600"],p="",h=astraTypo;"inherit"==i&&(r=t?s.val():"inherit");i=AstTypography._cleanGoogleFonts(i),c=AstTypography._getWeightObject(i);for(c=d.merge(["inherit"],c),h.inherit=l;e<c.length;e++)0===e&&-1===d.inArray(r,c)?(r=c[0],o=' selected="selected"'):o=c[e]==r?' selected="selected"':"",c[e].includes("italic")||(p+='<option value="'+c[e]+'"'+o+">"+h[c[e]]+"</option>");s.html(p),t||(u(a).set(""),u(a).set(r))},_setFontVarianttOptions:function(t){var e=0,n=u.control(this.id).container.find("select"),i=this(),o="",a=n.data("connected-variant"),s=(n.data("inherit"),u.control(a).container.find("select")),l=u.control(a).container.find(".ast-font-variant-hidden-value"),r="",c="",p=s.data("inherit"),h=astraTypo,d=l.val().split(",");"Google"==(n.find('option[value="'+n.val()+'"]').closest("optgroup").attr("label")||"")?s.parent().removeClass("ast-hide"):s.parent().addClass("ast-hide");i=AstTypography._cleanGoogleFonts(i);var g=AstTypography._getWeightObject(i);h.inherit=p;for(e=0;e<g.length;e++){for(var y=0;y<d.length;y++)g[e]===d[y]?(r=g[e],o=' selected="selected"'):o=g[e]==r?' selected="selected"':"";c+='<option value="'+g[e]+'"'+o+">"+h[g[e]]+"</option>"}s.html(c),t||u(a).set("")}},d(function(){AstTypography.init()})}(jQuery);